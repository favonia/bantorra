<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Anchor (bantorra.BantorraLibrary__.Anchor)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">bantorra</a> &#x00BB; <a href="../index.html">BantorraLibrary__</a> &#x00BB; Anchor</nav><h1>Module <code>BantorraLibrary__.Anchor</code></h1><nav class="toc"><ul><li><a href="#types">Types</a></li><li><a href="#initialization">Initialization</a></li><li><a href="#accessors">Accessors</a></li></ul></nav></header><section><header><h2 id="types"><a href="#types" class="anchor"></a>Types</h2></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>The type of anchors. An anchor marks the root of a library and records dependencies on other libraries. See <a href="index.html#val-read"><code>read</code></a>.</p></dd></dl><dl><dt class="spec type" id="type-unitpath"><a href="#type-unitpath" class="anchor"></a><code><span class="keyword">type</span> unitpath</code><code> = <span>string list</span></code></dt><dd><p>The type of unit paths.</p></dd></dl><dl><dt class="spec type" id="type-res_args"><a href="#type-res_args" class="anchor"></a><code><span class="keyword">type</span> res_args</code><code> = <a href="../../BantorraBasis/Marshal/index.html#type-value">BantorraBasis.Marshal.value</a></code></dt><dd><p>The type of arguments sent to the library resolver.</p></dd></dl><dl><dt class="spec type" id="type-lib_ref"><a href="#type-lib_ref" class="anchor"></a><code><span class="keyword">type</span> lib_ref</code><code> = </code><code>{</code><table class="record"><tr id="type-lib_ref.resolver" class="anchored"><td class="def field"><a href="#type-lib_ref.resolver" class="anchor"></a><code>resolver : string;</code></td><td class="doc"><p>The name of the library resolver.</p></td></tr><tr id="type-lib_ref.res_args" class="anchored"><td class="def field"><a href="#type-lib_ref.res_args" class="anchor"></a><code>res_args : <a href="index.html#type-res_args">res_args</a>;</code></td><td class="doc"><p>The arguments to the library resolver.</p></td></tr></table><code>}</code></dt><dd><p>The type of library references to be resolved.</p></dd></dl></section><section><header><h2 id="initialization"><a href="#initialization" class="anchor"></a>Initialization</h2></header><dl><dt class="spec value" id="val-read"><a href="#val-read" class="anchor"></a><code><span class="keyword">val</span> read : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>read path</code> read the content of an anchor file.</p><p>Here is a sample anchor file:</p><pre>formats: &quot;1.0.0&quot;
deps:
  - mount_point: [lib, num]
    resolver: builtin
    res_args: number</pre><p>The argument format <code>res_args</code> is determined by the resolver &quot;<code>builtin</code>&quot;.</p></dd></dl></section><section><header><h2 id="accessors"><a href="#accessors" class="anchor"></a>Accessors</h2></header><dl><dt class="spec value" id="val-iter_deps"><a href="#val-iter_deps" class="anchor"></a><code><span class="keyword">val</span> iter_deps : <span>(<a href="index.html#type-lib_ref">lib_ref</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter_lib_refs f a</code> runs <code>f</code> on each dependency listed in the anchor <code>a</code>.</p></dd></dl><dl><dt class="spec value" id="val-dispatch_path"><a href="#val-dispatch_path" class="anchor"></a><code><span class="keyword">val</span> dispatch_path : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-unitpath">unitpath</a> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-lib_ref">lib_ref</a> * <a href="index.html#type-unitpath">unitpath</a>)</span> option</span></code></dt><dd><p><code>dispatch_path a p</code> resolves the unit path <code>p</code> to <code>Some (ref, p')</code> if it points to another unit in another library referenced by <code>ref</code> and <code>p'</code>, or <code>None</code> if it is a local unit path.</p></dd></dl></section></div></body></html>