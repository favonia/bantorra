<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Waypoint (bantorra.BantorraResolvers__.Waypoint)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">bantorra</a> &#x00BB; <a href="../index.html">BantorraResolvers__</a> &#x00BB; Waypoint</nav><h1>Module <code>BantorraResolvers__.Waypoint</code></h1><nav class="toc"><ul><li><a href="#introduction">Introduction</a></li><li><a href="#the-builder">The Builder</a></li></ul></nav></header><section><header><h2 id="introduction"><a href="#introduction" class="anchor"></a>Introduction</h2><p>The waypoint resolver walks around the file system to resolve library names. It tries to find special files (called <em>landmarks</em>) that contain waypoints, which help the resolver to find the roots of target libraries. All landmark files have the same file name specified by the argument given to <a href="index.html#val-resolver"><code>resolver</code></a>.</p><p>The resolver accepts simple YAML strings as library names.</p><p>A waypoint is either <em>direct</em> or <em>indirect</em>. A direct waypoint points to the library root directly. Its YAML representation is as follows:</p><pre>cool:
  at: [mylib, cool]</pre><p>This means the root of the <code>cool</code> library is at <code>mylib/cool</code>. An indect waypoint is pointing to another waypoint, possibly with a new library name to look up. Its YAML representation is:</p><pre>cool:
  next: [mylib]</pre><p>This means one should look for the landmark file under the <code>mylib</code> directory for further instructions. One can also specify the <code>rename</code> field in case a new library name should be used:</p><pre>cool.basis:
  next: [cool]
  rename: basis</pre><p>A complete landmark file looks like this:</p><pre>format: &quot;1.0.0&quot;
waypoints:
  cool.basis:
    next: [cool]
    rename: basis
  hello:
    at: [misc, hello]</pre><p>The resolver starts from the root of the library that imports the target library, going up in the file system tree until it finds a landmark file with an applicable waypoint. It will then follow the waypoints until the root of the target library is found. Note that the resolver only climbs up the file system tree once, at the beginning. The resolution immediately fails if an indirect waypoint points to a landmark file with no applicable waypoint. This would prevent unintentional infinite looping due to simple typos.</p></header></section><section><header><h2 id="the-builder"><a href="#the-builder" class="anchor"></a>The Builder</h2></header><dl><dt class="spec value" id="val-resolver"><a href="#val-resolver" class="anchor"></a><code><span class="keyword">val</span> resolver : <span>strict_checking:bool</span> <span>&#45;&gt;</span> <span>landmark:string</span> <span>&#45;&gt;</span> <a href="../../Bantorra/Resolver/index.html#type-t">Bantorra.Resolver.t</a></code></dt><dd><p><code>resolver ~strict_checking ~landmark</code> construct a resolver for the specified file name <code>landmark</code>.</p><dl><dt>parameter strict_checking</dt><dd><p>Whether one should perform full resolution to check the validity of library names. If the value is <code>false</code>, the resolver will only check whether all dependencies are well-formed when loading a new library.</p></dd></dl><dl><dt>parameter landmark</dt><dd><p>The name of the special landmark files that the resolver should look for.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-clear_cached_landmarks"><a href="#val-clear_cached_landmarks" class="anchor"></a><code><span class="keyword">val</span> clear_cached_landmarks : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Landmark files are all cached to reduce I/O load, but perhaps you are writing some tool to modify landmark files. In this case, one should call this function to reload all landmark files.</p></dd></dl></section></div></body></html>